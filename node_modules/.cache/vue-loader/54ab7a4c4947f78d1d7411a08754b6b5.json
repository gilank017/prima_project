{"remainingRequest":"/home/gilank017/Project/myproject/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gilank017/Project/myproject/src/views/chart/incomeChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gilank017/Project/myproject/src/views/chart/incomeChart.vue","mtime":1611728814044},{"path":"/home/gilank017/Project/myproject/node_modules/cache-loader/dist/cjs.js","mtime":1610527584883},{"path":"/home/gilank017/Project/myproject/node_modules/thread-loader/dist/cjs.js","mtime":1610527584940},{"path":"/home/gilank017/Project/myproject/node_modules/babel-loader/lib/index.js","mtime":1610527584815},{"path":"/home/gilank017/Project/myproject/node_modules/cache-loader/dist/cjs.js","mtime":1610527584883},{"path":"/home/gilank017/Project/myproject/node_modules/vue-loader/lib/index.js","mtime":1610527600784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQcm94eSBmcm9tICJAL3NlcnZpY2VzL3Byb3h5IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbmNvbWVDaGFydCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdEluY29tZTogeyB0ZXh0RGF0ZTogIkxhc3QgNyBEYXlzIiwgdmFsdWVEYXRlOiA3IH0sCiAgICAgIGRhdGVTdGFydDogIiIsCiAgICAgIGRhdGVXZWVrbHk6ICIiLAogICAgICBkYXRlTW9udGhseTogIiIsCiAgICAgIGRhdGVZZWFybHk6ICIiLAogICAgICBkYXRlRW5kOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKSwKICAgICAgZGF0YUluY29tZTogW10sCiAgICAgIGRhdGFJbmNvbWVXZWVrbHk6IFtdLAogICAgICBkYXRhSW5jb21lTW9udGhseTogW10sCiAgICAgIGRhdGFJbmNvbWVZZWFybHk6IFtdLAogICAgICBzZWxlY3RWYWx1ZUluY29tZTogWwogICAgICAgIHsgdGV4dERhdGU6ICJMYXN0IDcgRGF5cyIsIHZhbHVlRGF0ZTogNyB9LAogICAgICAgIHsgdGV4dERhdGU6ICJMYXN0IDEgTW9udGgiLCB2YWx1ZURhdGU6IDMwIH0sCiAgICAgICAgeyB0ZXh0RGF0ZTogIkxhc3QgMSBZZWFycyIsIHZhbHVlRGF0ZTogMzY1IH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlSW5jb21lKCkgewogICAgICB0aGlzLmRhdGVJbmNvbWUoKTsKICAgIH0sCgogICAgZGF0ZUluY29tZSgpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSB0aGlzLnNlbGVjdEluY29tZSk7CiAgICAgIHRoaXMuZGF0ZVN0YXJ0ID0gZGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7CiAgICAgIGlmICh0aGlzLnNlbGVjdEluY29tZSA9PSA3KSB7CiAgICAgICAgdGhpcy5jaGFydEluY29tZVdlZWtseTsKICAgICAgICB0aGlzLmRhdGFJbmNvbWUgPSB0aGlzLmRhdGFJbmNvbWVXZWVrbHk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RJbmNvbWUgPT0gMzApIHsKICAgICAgICB0aGlzLmNoYXJ0SW5jb21lTW9udGhseTsKICAgICAgICB0aGlzLmRhdGFJbmNvbWUgPSB0aGlzLmRhdGFJbmNvbWVNb250aGx5OwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0SW5jb21lID09IDM2NSkgewogICAgICAgIHRoaXMuY2hhcnRJbmNvbWVZZWFybHk7CiAgICAgICAgdGhpcy5kYXRhSW5jb21lID0gdGhpcy5kYXRhSW5jb21lWWVhcmx5OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGF0YUluY29tZTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGVTdGFydCk7CiAgICB9LAoKICAgIGNoYXJ0SW5jb21lV2Vla2x5KCkgewogICAgICB2YXIgZGF0ZVdlZWtseSA9IG5ldyBEYXRlKCk7CiAgICAgIGRhdGVXZWVrbHkuc2V0RGF0ZShkYXRlV2Vla2x5LmdldERhdGUoKSAtIDcpOwogICAgICB0aGlzLmRhdGVXZWVrbHkgPSBkYXRlV2Vla2x5LnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTsKICAgICAgY29uc3QgdXJpID0gImh0dHBzOi8vYXBpLWRldi5waGFudGFzbW9kZS5jb20iOwogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKTsKICAgICAgY29uc3QgaGVhZGVycyA9IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0b2tlbiwKICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgfTsKICAgICAgUHJveHkuZ2V0KAogICAgICAgIHVyaSArCiAgICAgICAgICAiL2FwaS9kYXNoYm9hcmQvaW5jb21lLWNoYXJ0IiArCiAgICAgICAgICAiP3N0YXJ0RGF0ZT0iICsKICAgICAgICAgIHRoaXMuZGF0ZVdlZWtseSArCiAgICAgICAgICAiJmVuZERhdGU9IiArCiAgICAgICAgICB0aGlzLmRhdGVFbmQgKwogICAgICAgICAgIiZzaG93VHlwZT1kYWlseSIsCiAgICAgICAgewogICAgICAgICAgaGVhZGVycywKICAgICAgICB9CiAgICAgICkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmRhdGFJbmNvbWVXZWVrbHkgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKCiAgICBjaGFydEluY29tZU1vbnRobHkoKSB7CiAgICAgIHZhciBkYXRlTW9udGhseSA9IG5ldyBEYXRlKCk7CiAgICAgIGRhdGVNb250aGx5LnNldERhdGUoZGF0ZU1vbnRobHkuZ2V0RGF0ZSgpIC0gMzApOwogICAgICB0aGlzLmRhdGVNb250aGx5ID0gZGF0ZU1vbnRobHkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApOwogICAgICBjb25zdCB1cmkgPSAiaHR0cHM6Ly9hcGktZGV2LnBoYW50YXNtb2RlLmNvbSI7CiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY2Vzc190b2tlbiIpOwogICAgICBjb25zdCBoZWFkZXJzID0gewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRva2VuLAogICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICB9OwogICAgICBQcm94eS5nZXQoCiAgICAgICAgdXJpICsKICAgICAgICAgICIvYXBpL2Rhc2hib2FyZC9pbmNvbWUtY2hhcnQiICsKICAgICAgICAgICI/c3RhcnREYXRlPSIgKwogICAgICAgICAgdGhpcy5kYXRlTW9udGhseSArCiAgICAgICAgICAiJmVuZERhdGU9IiArCiAgICAgICAgICB0aGlzLmRhdGVFbmQgKwogICAgICAgICAgIiZzaG93VHlwZT1kYWlseSIsCiAgICAgICAgewogICAgICAgICAgaGVhZGVycywKICAgICAgICB9CiAgICAgICkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmRhdGFJbmNvbWVNb250aGx5ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKCiAgICBjaGFydEluY29tZVllYXJseSgpIHsKICAgICAgdmFyIGRhdGVZZWFybHkgPSBuZXcgRGF0ZSgpOwogICAgICBkYXRlWWVhcmx5LnNldERhdGUoZGF0ZVllYXJseS5nZXREYXRlKCkgLSAzNjUpOwogICAgICB0aGlzLmRhdGVZZWFybHkgPSBkYXRlWWVhcmx5LnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTsKICAgICAgY29uc3QgdXJpID0gImh0dHBzOi8vYXBpLWRldi5waGFudGFzbW9kZS5jb20iOwogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKTsKICAgICAgY29uc3QgaGVhZGVycyA9IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0b2tlbiwKICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgfTsKICAgICAgUHJveHkuZ2V0KAogICAgICAgIHVyaSArCiAgICAgICAgICAiL2FwaS9kYXNoYm9hcmQvaW5jb21lLWNoYXJ0IiArCiAgICAgICAgICAiP3N0YXJ0RGF0ZT0iICsKICAgICAgICAgIHRoaXMuZGF0ZVllYXJseSArCiAgICAgICAgICAiJmVuZERhdGU9IiArCiAgICAgICAgICB0aGlzLmRhdGVFbmQgKwogICAgICAgICAgIiZzaG93VHlwZT1tb250aGx5IiwKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzLAogICAgICAgIH0KICAgICAgKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuZGF0YUluY29tZVllYXJseSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgaW5jb21lRGF0YSgpIHsKICAgICAgY29uc3QgdXJpID0gImh0dHBzOi8vYXBpLWRldi5waGFudGFzbW9kZS5jb20iOwogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKTsKICAgICAgY29uc3QgaGVhZGVycyA9IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0b2tlbiwKICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgfTsKICAgICAgUHJveHkuZ2V0KHVyaSArICIvYXBpL2Rhc2hib2FyZC9pbmNvbWUtY2hhcnQiLCB7CiAgICAgICAgaGVhZGVycywKICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmRhdGFJbmNvbWUgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2hhcnRJbmNvbWVXZWVrbHkoKTsKICAgIHRoaXMuY2hhcnRJbmNvbWVNb250aGx5KCk7CiAgICB0aGlzLmNoYXJ0SW5jb21lWWVhcmx5KCk7CiAgICB0aGlzLmluY29tZURhdGEoKTsKICB9LAp9Owo="},{"version":3,"sources":["incomeChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"incomeChart.vue","sourceRoot":"src/views/chart","sourcesContent":["<template>\n  <v-card>\n    <v-container fluid>\n      <v-row>\n        <v-col cols=\"9\">\n          <v-card-title>Income Chart</v-card-title>\n        </v-col>\n        <v-col cols=\"3\">\n          <v-select\n            v-model=\"selectIncome\"\n            :items=\"selectValueIncome\"\n            item-text=\"textDate\"\n            item-value=\"valueDate\"\n            @change=\"changeIncome\"\n          >\n          </v-select>\n        </v-col>\n        <v-col cols=\"12\">\n          <line-chart\n            :data=\"dataIncome\"\n            xtitle=\"Date\"\n            ytitle=\"Income\"\n            :curve=\"false\"\n            prefix=\"$\"\n            :download=\"true\"\n          ></line-chart>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-card>\n</template>\n\n<script>\nimport Proxy from \"@/services/proxy\";\nexport default {\n  name: \"incomeChart\",\n  data() {\n    return {\n      selectIncome: { textDate: \"Last 7 Days\", valueDate: 7 },\n      dateStart: \"\",\n      dateWeekly: \"\",\n      dateMonthly: \"\",\n      dateYearly: \"\",\n      dateEnd: new Date().toISOString().substring(0, 10),\n      dataIncome: [],\n      dataIncomeWeekly: [],\n      dataIncomeMonthly: [],\n      dataIncomeYearly: [],\n      selectValueIncome: [\n        { textDate: \"Last 7 Days\", valueDate: 7 },\n        { textDate: \"Last 1 Month\", valueDate: 30 },\n        { textDate: \"Last 1 Years\", valueDate: 365 },\n      ],\n    };\n  },\n  methods: {\n    changeIncome() {\n      this.dateIncome();\n    },\n\n    dateIncome() {\n      var date = new Date();\n      date.setDate(date.getDate() - this.selectIncome);\n      this.dateStart = date.toISOString().substring(0, 10);\n      if (this.selectIncome == 7) {\n        this.chartIncomeWeekly;\n        this.dataIncome = this.dataIncomeWeekly;\n      } else if (this.selectIncome == 30) {\n        this.chartIncomeMonthly;\n        this.dataIncome = this.dataIncomeMonthly;\n      } else if (this.selectIncome == 365) {\n        this.chartIncomeYearly;\n        this.dataIncome = this.dataIncomeYearly;\n      } else {\n        this.dataIncome;\n      }\n      console.log(this.dateStart);\n    },\n\n    chartIncomeWeekly() {\n      var dateWeekly = new Date();\n      dateWeekly.setDate(dateWeekly.getDate() - 7);\n      this.dateWeekly = dateWeekly.toISOString().substring(0, 10);\n      const uri = \"https://api-dev.phantasmode.com\";\n      const token = localStorage.getItem(\"access_token\");\n      const headers = {\n        Authorization: \"Bearer \" + token,\n        Accept: \"application/json\",\n      };\n      Proxy.get(\n        uri +\n          \"/api/dashboard/income-chart\" +\n          \"?startDate=\" +\n          this.dateWeekly +\n          \"&endDate=\" +\n          this.dateEnd +\n          \"&showType=daily\",\n        {\n          headers,\n        }\n      )\n        .then((res) => {\n          this.dataIncomeWeekly = res.data.data;\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    chartIncomeMonthly() {\n      var dateMonthly = new Date();\n      dateMonthly.setDate(dateMonthly.getDate() - 30);\n      this.dateMonthly = dateMonthly.toISOString().substring(0, 10);\n      const uri = \"https://api-dev.phantasmode.com\";\n      const token = localStorage.getItem(\"access_token\");\n      const headers = {\n        Authorization: \"Bearer \" + token,\n        Accept: \"application/json\",\n      };\n      Proxy.get(\n        uri +\n          \"/api/dashboard/income-chart\" +\n          \"?startDate=\" +\n          this.dateMonthly +\n          \"&endDate=\" +\n          this.dateEnd +\n          \"&showType=daily\",\n        {\n          headers,\n        }\n      )\n        .then((res) => {\n          this.dataIncomeMonthly = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    chartIncomeYearly() {\n      var dateYearly = new Date();\n      dateYearly.setDate(dateYearly.getDate() - 365);\n      this.dateYearly = dateYearly.toISOString().substring(0, 10);\n      const uri = \"https://api-dev.phantasmode.com\";\n      const token = localStorage.getItem(\"access_token\");\n      const headers = {\n        Authorization: \"Bearer \" + token,\n        Accept: \"application/json\",\n      };\n      Proxy.get(\n        uri +\n          \"/api/dashboard/income-chart\" +\n          \"?startDate=\" +\n          this.dateYearly +\n          \"&endDate=\" +\n          this.dateEnd +\n          \"&showType=monthly\",\n        {\n          headers,\n        }\n      )\n        .then((res) => {\n          this.dataIncomeYearly = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    incomeData() {\n      const uri = \"https://api-dev.phantasmode.com\";\n      const token = localStorage.getItem(\"access_token\");\n      const headers = {\n        Authorization: \"Bearer \" + token,\n        Accept: \"application/json\",\n      };\n      Proxy.get(uri + \"/api/dashboard/income-chart\", {\n        headers,\n      })\n        .then((res) => {\n          this.dataIncome = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.chartIncomeWeekly();\n    this.chartIncomeMonthly();\n    this.chartIncomeYearly();\n    this.incomeData();\n  },\n};\n</script>\n>\n"]}]}